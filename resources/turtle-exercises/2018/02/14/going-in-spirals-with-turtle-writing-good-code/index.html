<!DOCTYPE html>
<html lang="en">
<head>
  <title>Mark Brown Private TuitionGoing in spirals with Turtle - Writing good code</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/theme/css/structure.css" />
  <link rel="stylesheet" type="text/css" href="/theme/css/icons.css" />
  <link rel="stylesheet" type="text/css" href="/theme/css/style.css" />
  <link rel="stylesheet" type="text/css" href="/theme/css/monokai.min.css" />
  <link rel="icon" type="image/svg+xml" href="/images/favicon.svg">
  <link rel="alternate icon" href="/images/favicon.ico">




<meta name="tags" content="python" />
<meta name="tags" content="random" />
<meta name="tags" content="turtle" />
<meta name="tags" content="animation" />
</head>
<body>
  <div id="header" class="center stack">
<navbar class="cluster">
  <div>
  <nav class="center">
    <a href="/testimonials">Testimonials</a>
    <a href="/about">About</a>
    <a href="/resources">Resources</a>
  </div>
  </nav>
</navbar>    <h1><a class="halfwidth" href="/">Mark Brown Private Tuition</a></h1>
    <p class="center halfwidth">
Independent Private Tuition Est. 2014
</p>
<svg name="sinc" version="1.1" viewBox="0 0 94.653 14.524" xmlns="http://www.w3.org/2000/svg">
      <g transform="translate(-27.67 -105.72)">
        <path d="m29.997 113.21c0.47619-1e-3 0.95238-2e-3 1.4286-3.4e-4 0.47619 1e-3 0.95238 5e-3 1.4286 0.0102 0.47619 5e-3 0.95238 0.0131 1.4286 0.0211 0.47619 8e-3 0.95238 0.0161 1.4286 0.0204 0.47619 4e-3 0.95238 5e-3 1.4286-3e-3 0.47619-7e-3 0.95238-0.0228 1.4286-0.0454 0.47619-0.0226 0.95238-0.0524 1.4286-0.0808 0.47619-0.0285 0.95238-0.0552 1.4286-0.0664 0.47619-0.0112 0.95238-6e-3 1.4286 0.0246 0.47619 0.0306 0.95238 0.0876 1.4286 0.16284 0.47619 0.0752 0.95238 0.16863 1.4286 0.25079 0.47619 0.0822 0.95238 0.15144 1.4286 0.17094 0.47619 0.0195 0.95238-0.0133 1.4286-0.11307 0.47619-0.0998 0.95238-0.26801 1.4286-0.47084s0.95238-0.43873 1.4286-0.62912c0.47619-0.1904 0.95238-0.33072 1.4286-0.34408 0.47619-0.0134 0.95238 0.10514 1.4286 0.36346 0.47619 0.25832 0.95238 0.65747 1.4286 1.0996 0.47619 0.44215 0.95238 0.92202 1.4286 1.275 0.47619 0.35295 0.95238 0.56963 1.4286 0.52892 0.47619-0.0407 0.95238-0.34569 1.4286-0.88027 0.47619-0.5346 0.95238-1.2967 1.4286-2.0761 0.47619-0.77936 0.95238-1.5642 1.4286-2.0847 0.47619-0.52044 0.95238-0.76226 1.4286-0.58873 0.47619 0.17353 0.95238 0.76834 1.4286 1.6561 0.47619 0.8878 0.95238 2.0601 1.4286 3.1704 0.47619 1.1103 0.95238 2.1401 1.4286 2.745 0.47619 0.60492 0.95238 0.76925 1.4286 0.40036s0.95238-1.2718 1.4286-2.458c0.47619-1.1862 0.95238-2.6398 1.4286-3.9176 0.47619-1.2778 0.95238-2.358 1.4286-2.9036 0.47619-0.54555 0.95238-0.54452 1.4286 0 0.47619 0.54452 0.95238 1.6262 1.4286 2.9036 0.47619 1.2774 0.95238 2.7309 1.4286 3.9176 0.47619 1.1867 0.95238 2.0881 1.4286 2.458 0.47619 0.3699 0.95238 0.20374 1.4286-0.40036 0.47619-0.6041 0.95238-1.6349 1.4286-2.745 0.47619-1.1102 0.95238-2.2821 1.4286-3.1704 0.47619-0.88833 0.95238-1.4818 1.4286-1.6561 0.47619-0.17432 0.95238 0.0688 1.4286 0.58873 0.47619 0.51991 0.95238 1.3053 1.4286 2.0847 0.47619 0.77936 0.95238 1.5411 1.4286 2.0761 0.47619 0.53501 0.95238 0.83906 1.4286 0.88027 0.47619 0.0412 0.95238-0.17622 1.4286-0.52892 0.47619-0.35269 0.95238-0.83275 1.4286-1.275 0.47619-0.44223 0.95238-0.84105 1.4286-1.0996 0.47619-0.25859 0.95238-0.37657 1.4286-0.36346 0.47619 0.0131 0.95238 0.15377 1.4286 0.34408 0.47619 0.1903 0.95238 0.42622 1.4286 0.62912 0.47619 0.20289 0.95238 0.37092 1.4286 0.47084 0.47619 0.0999 0.95238 0.13246 1.4286 0.11307 0.47619-0.0194 0.95238-0.0888 1.4286-0.17094 0.47619-0.0821 0.95239-0.17551 1.4286-0.25079 0.47619-0.0753 0.95238-0.13215 1.4286-0.16284 0.47619-0.0307 0.95238-0.0358 1.4286-0.0246s0.95238 0.0379 1.4286 0.0664 0.95238 0.0583 1.4286 0.0808c0.47619 0.0226 0.95238 0.038 1.4286 0.0454 0.47619 7e-3 0.95238 7e-3 1.4286 3e-3s0.95239-0.0125 1.4286-0.0204c0.47619-8e-3 0.95238-0.0156 1.4286-0.0211 0.47619-5e-3 0.95238-9e-3 1.4286-0.0102 0.47619-1e-3 0.95238-8.2e-4 1.4286 3.4e-4" fill="none" stroke="#3ebddb" stroke-linecap="round" stroke-width="1px" title="sinc"/>
</g></svg>  </div>
  <content>
<article>
<article>
  <header>
    <h2><a href="/resources/turtle-exercises/2018/02/14/going-in-spirals-with-turtle-writing-good-code"
        title="Permalink to Going in spirals with Turtle - Writing good code">Going in spirals with Turtle - Writing good code      </a>
      </h2>
    <div class="cluster center-y">
      <div>
        <p>Written on <time datetime="2018-02-14T00:00:00+00:00">Wed 14 February 2018</time></p>

        <div class='cluster center-y'>
          <div>
            <a class="tag" href="/tag/python.html">python</a>
            <a class="tag" href="/tag/random.html">random</a>
            <a class="tag" href="/tag/turtle.html">turtle</a>
            <a class="tag" href="/tag/animation.html">animation</a>
          </div>
        </div>

      </div>
    </div>
  </header>
</article>  <content>
    <p>Using the Python Turtle library we draw spirals with ever increasing complexity. The aim is to see examples of good and bad code.
In this post we'll look at the code in each case and observe the result.
I would recommend running the code for yourself as you go to observe what is happening.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">turtle</span>

<span class="n">step</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
  <span class="n">turtle</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
  <span class="n">turtle</span><span class="o">.</span><span class="n">left</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
  <span class="n">step</span> <span class="o">+=</span> <span class="mi">2</span>
</pre></div>
<p>This will produce</p>
<img alt="rectangular spiral drawn using code above" src="/images/turtle/spiral.gif" />
<p>At each run of the loop we increase <strong>step</strong> by 2 pixels.
This will cause the turtle to move further out each run.</p>
<p>The first improvement we will do is <em>remove all hardcoded numbers</em>.
A hard coded number is one that isn't defined by a variable.
This is generally bad practice as we may end up using the variable in multiple places.
Secondly we don't really want infinite loops in our code with no way of ending.
Let's change it such that it does a fixed number of <em>loops</em> before quitting.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">turtle</span>

<span class="n">step</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># ever increasing distance</span>
<span class="n">angle</span> <span class="o">=</span> <span class="mi">90</span> <span class="c1"># turn by this angle each loop</span>
<span class="n">loops</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># how many loops we wish to complete before quitting</span>
<span class="n">increase_by</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># how many pixels to increase each run</span>

<span class="n">steps_per_loop</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">//</span> <span class="n">angle</span>  <span class="c1"># how many steps we need to make a single loop</span>

<span class="k">for</span> <span class="n">loop</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">loops</span> <span class="o">*</span> <span class="n">steps_per_loop</span><span class="p">):</span>
    <span class="n">turtle</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
    <span class="n">turtle</span><span class="o">.</span><span class="n">left</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="n">step</span> <span class="o">+=</span> <span class="n">increase_by</span>

<span class="n">turtle</span><span class="o">.</span><span class="n">exitonclick</span><span class="p">()</span>
</pre></div>
<p>This will work fine however we're more interested in how many sides, rather than the angle.
So let's alter this slightly to become</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">turtle</span>

<span class="n">step</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># ever increasing distance</span>
<span class="n">sides</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># how many sides per loop</span>
<span class="n">loops</span> <span class="o">=</span> <span class="mi">50</span>  <span class="c1"># how many loops we wish to complete before quitting</span>
<span class="n">increase_by</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># how many pixels to increase each loop</span>

<span class="n">angle</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">//</span> <span class="n">sides</span>  <span class="c1"># angle to turn by each step</span>
<span class="n">increase_by_per_step</span> <span class="o">=</span> <span class="n">increase_by</span> <span class="o">//</span> <span class="n">sides</span>

<span class="k">for</span> <span class="n">loop</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">loops</span> <span class="o">*</span> <span class="n">sides</span><span class="p">):</span>
    <span class="n">turtle</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
    <span class="n">turtle</span><span class="o">.</span><span class="n">left</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="n">step</span> <span class="o">+=</span> <span class="n">increase_by_per_step</span>

<span class="n">turtle</span><span class="o">.</span><span class="n">exitonclick</span><span class="p">()</span>
</pre></div>
<img alt="rectangular spiral as before but now we have cleaner code producing it. Usage of variables!" src="/images/turtle/spiral2.gif" />
<p>Success!
We can see now the code does one thing based on a set of inputs (our variables).
Let's turn this into a function.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">turtle</span>

<span class="k">def</span> <span class="nf">draw_spiral</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">sides</span><span class="p">,</span> <span class="n">loops</span><span class="p">,</span> <span class="n">increase_by</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draws spirals using turtle</span>
<span class="sd">    step # ever increasing distance</span>
<span class="sd">    sides # how many sides per loop</span>
<span class="sd">    loops # how many loops we wish to complete before quitting</span>
<span class="sd">    increase_by # how many pixels to increase each loop</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">angle</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">//</span> <span class="n">sides</span>
    <span class="n">increase_by_per_step</span> <span class="o">=</span> <span class="n">increase_by</span> <span class="o">//</span> <span class="n">sides</span>

    <span class="k">for</span> <span class="n">loop</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">loops</span> <span class="o">*</span> <span class="n">sides</span><span class="p">):</span>
        <span class="n">turtle</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
        <span class="n">turtle</span><span class="o">.</span><span class="n">left</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
        <span class="n">step</span> <span class="o">+=</span> <span class="n">increase_by_per_step</span>


<span class="k">def</span> <span class="nf">move_to</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Moves turtle to position without drawing</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">turtle</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
    <span class="n">turtle</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
    <span class="n">turtle</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>

<span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">200</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">move_to</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">draw_spiral</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="mi">50</span>

<span class="n">turtle</span><span class="o">.</span><span class="n">exitonclick</span><span class="p">()</span>
</pre></div>
<img alt="A rectangular spiral but this time we have repeated this in a horizontal pattern giving a repeated pattern to look at" src="/images/turtle/spiral_repeat.gif" />
<p>Here we have used our new function to draw the spiral pattern like a stamp and move onto the next location.
I've also written a short function called <strong>move_to</strong>.
Note how we've used a default argument, <em>y=0</em>.
In code where we have numbers that usually don't change, this is good practice.</p>
<p><strong>User Exercises</strong></p>
<p>Using the above code as a guide produce the following patterns</p>
<img alt="first exercise : Rectangular spirals are tiled across the screen with random colours per spiral" src="/images/turtle/final_spiral.gif" />
<img alt="Second exercise : a hexagonal spiral" src="/images/turtle/spiral_sides.gif" />
<img alt="third exercise : a hexagonal spiral with random colours used as the line thickness is reduced each spiral." src="/images/turtle/spiral_colours.gif" />

  </content>
</article>


  </content>

  <footer class="center stack">
    <p>(C) 2024 Mark Brown Private Tuition</p>
  </footer>
</body>
</html>